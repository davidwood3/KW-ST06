<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
     <!--Import Google Icon Font-->
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <!-- Compiled and minified CSS -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <?!= include("page-css"); ?>
  </head>
  <body>

  <div class="container">   
  
      <div class="row">  <!-- Row #1 -->
        <div class="input-field col s6">
          <input id="property" type="text" class="tooltipped validate" data-tooltip="Enter the street the property is on." required>
          <label for="property">Property</label>
        </div>
        <div class="input-field col s6">
          <input id="street" type="text" class="tooltipped validate" data-tooltip="Enter the house number for this property." required>
          <label for="street">Street</label>
        </div>
      </div>  <!-- Close Row #1-->
      
    <div class="row">   <!-- Row #2 -->
         <div class="input-field col s6">
            <i class = "material-icons prefix">textsms</i>
            <input type="text" id="sourceInput" class="autocomplete  tooltipped" data-tooltip="Choose the Source of this transaction." required>
            <label for="sourceInput">Type in Source (autocomplete)</label>
          </div>
                   
          <div class="input-field col s6">
              <form action="#">
               <p>
                   <label style="padding-right:20px; font-size:18pt">TYPE:</label>
                   <label Type>
                       <input name="_type" id="type_buyer" type="radio" value="Buyer" checked />
                       <span>Buyer</span>
                    </label>
                    <label>
                        <input name="_type" id="type_listing" type="radio" value="Listing" />
                        <span>Listing</span>
                    </label>
               </p>
             </form>
          </div>
          </div>  <!-- Close Row #2-->
  
         <div class="row">  <!-- Row #3 -->
             <div class="input-field col s6">
                 <input id="agent" type="text" class="validate tooltipped" data-tooltip="Choose the Agent for this transaction." required>
                 <label for="agent">Agent</label>
             </div>
             <div class="input-field col s6">
                  <input type="text" id="contractDate" class="datepicker tooltipped" data-tooltip="Choose the Contract Date from the pop up Calendar." required>
                  <label for="contractDate">Pick Contract Date</label>
             </div>
          </div>  <!-- Close Row #3-->
          
          <div class="row"> <!-- Row #4 -->
             <div class="input-field col s6">
                  <input type="text" id="coeDate" class="datepicker tooltipped" data-tooltip="Choose the Close of Escrow Date from the pop up Calendar." required>
                  <label for="coeDate">Pick COE Date</label>
             </div>
             <div class="input-field col s6">
                 <input id="salesPrice" type="text" class="validate tooltipped" data-tooltip="Enter the Sale Price in the format 325,000.00" required pattern="^\d{1,3}(,\d{3})*(\.\d{2})$" >
                 <label for="salesPrice">Sales Price</label>
             </div>
          </div>  <!-- Close Row #4--> 
           
         
    
         <div class="row">  <!-- Row #5 -->
             <div class="input-field col s3">
                 <input id="commission" type="text" class="validate tooltipped" data-tooltip="Enter the Commission Percent in the format 2.75" pattern="^(\d+|\d*[.]\d+)%?$" required>
                 <label for="commission">Commission</label>
             </div>
             <div class="input-field col s3">
                 <input id="robinsPercent" type="text" class="validate tooltipped" onblur="calcRobinsNet();" data-tooltip="Enter Robins Percent in the format 50 for 50%" pattern="^(\d+|\d*[.]\d+)%?$" required>
                 <label for="robinsPercent">Robins Percent</label>
             </div>
             <div class="input-field col s3">
                 <input id="robinsNet" type="text" class="validate tooltipped" data-tooltip="Enter Robins Commission in the format 8,500.00" pattern="^\d{1,3}(,\d{3})*(\.\d{2})$" required>
                 <label for="robinsNet">Robins Net CI</label>
             </div>
             <div class="input-field col s3">
                 <input id="tcFee" type="text" class="validate tooltipped" data-tooltip="Enter the TCFee in the format 495.00" pattern="^\d{1,3}(,\d{3})*(\.\d{2})$" required>
                 <label for="tcFee">TC fee</label>
             </div>
         </div>  <!-- Close Row #5-->  
    
         <div class="row">  <!-- Row #6 -->
             <div class="s8" />
             <div class="input-field col s4">
                 <button id="btn" class="waves-effect waves-light btn-small"><i class="material-icons left">cloud</i>Submit</button>
              </div>
         </div>  <!-- Close Row -->

</div>  <!-- Close Container -->
    
    <script>
    calcRobinsNet = function()  {   
        var salePrice = document.getElementById('salesPrice').value;
        var comm = document.getElementById('commission').value;
        var robinPercent = document.getElementById('robinsPercent').value; 
        
        var temp = salePrice;
        //alert(salePrice);
        salePrice = temp.replace(",", "");
        //alert(salePrice);
        var robinNet = Number(salePrice) * (Number(comm) / 100.00) * (Number(robinPercent) / 100.00);  // Calculate Robins Net Commission
        //alert(robinNet);
        const options = { 
           minimumFractionDigits: 2,
           maximumFractionDigits: 2 
        };
        document.getElementById('robinsNet').value = robinNet.toLocaleString('en', options)
    }
    </script>
    
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <?!= include("page-js"); ?>
    
  </body>
</html>




